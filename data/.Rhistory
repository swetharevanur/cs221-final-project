topics = c(1:10 * 10, 120, 140, 160, 180, 0:3 * 50 + 200),
metrics = c("Griffiths2004", "CaoJuan2009", "Arun2010"),
method = "Gibbs",
control = list(seed = 77),
mc.cores = 4L,
verbose = TRUE
)
})
FindTopicsNumber_plot(tunes)
# install.packages("topicmodels")
# install.packages("doParallel")
# install.packages("ggplot2")
# install.packages("scales")
# install.packages("tidyverse")
# install.packages("RColorBrewer")
# install.packages("wordcloud")
install.packages("ldatuning")
library(topicmodels)
library(doParallel)
library(ggplot2)
library(scales)
library(tidyverse)
library(RColorBrewer)
library(wordcloud)
library(ldatuning)
data("AssociatedPress", package="topicmodels")
full_data <- AssociatedPress
system.time({
tunes <- FindTopicsNumber(
full_data,
topics = c(1:10 * 10, 120, 140, 160, 180, 0:3 * 50 + 200),
metrics = c("Griffiths2004", "CaoJuan2009", "Arun2010"),
method = "Gibbs",
control = list(seed = 77),
mc.cores = 4L,
verbose = TRUE
)
})
full_data
# lda_tuning.py
# Computes optimal LDA hyperparamater (number of topics)
# by optimizing 3 metrics.
# Authors: Swetha Revanur and Keanu Spies
# install.packages("topicmodels")
# install.packages("doParallel")
# install.packages("ggplot2")
# install.packages("scales")
# install.packages("tidyverse")
# install.packages("RColorBrewer")
# install.packages("wordcloud")
# install.packages("ldatuning")
library(topicmodels)
library(doParallel)
library(ggplot2)
library(scales)
library(tidyverse)
library(RColorBrewer)
library(wordcloud)
library(ldatuning)
data("AssociatedPress", package="topicmodels")
full_data <- AssociatedPress
print(full_data)
# system.time({
#   tunes <- FindTopicsNumber(
#     full_data,
#     topics = c(1:10 * 10, 120, 140, 160, 180, 0:3 * 50 + 200),
#     metrics = c("Griffiths2004", "CaoJuan2009", "Arun2010"),
#     method = "Gibbs",
#     control = list(seed = 77),
#     mc.cores = 4L,
#     verbose = TRUE
#   )
# })
#
# FindTopicsNumber_plot(tunes)
pathToFiles = '../../data' # use your path
setwd(pathToFiles)
fileNames = list.files(path = ".", pattern = "/second_total_file_working*.xlsx")
# lda_tuning.R
# Computes optimal LDA hyperparamater (number of topics)
# by optimizing 3 metrics.
# Authors: Swetha Revanur and Keanu Spies
# install.packages("topicmodels")
# install.packages("doParallel")
# install.packages("ggplot2")
# install.packages("scales")
# install.packages("tidyverse")
# install.packages("RColorBrewer")
# install.packages("wordcloud")
# install.packages("ldatuning")
library(topicmodels)
library(doParallel)
library(ggplot2)
library(scales)
library(tidyverse)
library(RColorBrewer)
library(wordcloud)
library(ldatuning)
# data("AssociatedPress", package="topicmodels")
# full_data <- AssociatedPress
# read in files
pathToFiles = '../../data' # use your path
setwd(getwd() + pathToFiles)
fileNames = list.files(path = ".", pattern = "/second_total_file_working*.xlsx")
postList = []
for fileName in fileNames:
df = pd.read_excel(fileName)
postList.append(df)
totalDataFrame = pd.concat(postList)
print(full_data)
# system.time({
#   tunes <- FindTopicsNumber(
#     full_data,
#     topics = c(1:10 * 10, 120, 140, 160, 180, 0:3 * 50 + 200),
#     metrics = c("Griffiths2004", "CaoJuan2009", "Arun2010"),
#     method = "Gibbs",
#     control = list(seed = 77),
#     mc.cores = 4L,
#     verbose = TRUE
#   )
# })
#
# FindTopicsNumber_plot(tunes)
getwd()
fileNames = list.files(path = "../../data", pattern = "/second_total_file_working*.xlsx")
path = "/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data"
setwd(path)
fileNames = list.files(path = "../../data", pattern = "/second_total_file_working*.xlsx")
path = "/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data"
setwd(path)
fileNames = list.files(path = "../../data", pattern = "/second_total_file_working*.xlsx")
print(fileNames)
path = "/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data"
setwd(path)
fileNames = list.files(path = ".", pattern = "/second_total_file_working*.xlsx")
print(fileNames)
path = "/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data"
setwd(path)
fileNames = list.files(pattern = "second_total_file_working*.xlsx")
print(fileNames)
path = "/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data"
setwd(path)
fileNames = list.files(pattern = "second_total_file_working*.xlsx")
print(fileNames)
ath = "/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data"
setwd(path)
fileNames = list.files(pattern = "second_total_file_working*.xlsx")
print(fileNames)
for fileName in fileNames:
print(fileNames)
for(fileName in fileNames) {
print(fileNames)
}
df <- data.frame(postCategory, postDay, postDistrict, postID,
postLocation, postMonth, postOtherAds,
postPhone, postText, postTime, postTitle, postYear
stringsAsFactors=FALSE)
print(df.cols)
df <- data.frame(postCategory, postDay, postDistrict, postID,
postLocation, postMonth, postOtherAds,
postPhone, postText, postTime, postTitle, postYear
stringsAsFactors=FALSE)
print(df.cols())
df
df <- data.frame(postCategory, postDay, postDistrict, postID,
postLocation, postMonth, postOtherAds,
postPhone, postText, postTime, postTitle, postYear
stringsAsFactors = FALSE)
df <- data.frame(postCategory, postDay, postDistrict, postID,
postLocation, postMonth, postOtherAds,
postPhone, postText, postTime, postTitle, postYear,
stringsAsFactors = FALSE)
df <- data.frame("postCategory", "postDay", "postDistrict", "postID",
"postLocation", "postMonth", "postOtherAds",
"postPhone", "postText", "postTime", "postTitle", "postYear",
stringsAsFactors = FALSE)
df <- data.frame("postCategory", "postDay", "postDistrict", "postID",
"postLocation", "postMonth", "postOtherAds",
"postPhone", "postText", "postTime", "postTitle", "postYear",
stringsAsFactors = FALSE)
df
df <- read.xls(fileNames[0])
library(gdata)
install.packages("gdata")
library(gdata)
df <- data.frame("postCategory", "postDay", "postDistrict", "postID",
"postLocation", "postMonth", "postOtherAds",
"postPhone", "postText", "postTime", "postTitle", "postYear",
stringsAsFactors = FALSE)
df <- read.xls(fileNames[0])
df <- read.xls(path + fileNames[0])
path = "/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data"
setwd(path)
fileNames = list.files(pattern = "/second_total_file_working*.xlsx")
print(fileNames)
# declare empty dataframe
df <- data.frame("postCategory", "postDay", "postDistrict", "postID",
"postLocation", "postMonth", "postOtherAds",
"postPhone", "postText", "postTime", "postTitle", "postYear",
stringsAsFactors = FALSE)
df <- read.xls(path + fileNames[0])
path = "/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/"
setwd(path)
fileNames = list.files(pattern = "second_total_file_working*.xlsx")
print(fileNames)
# declare empty dataframe
df <- data.frame("postCategory", "postDay", "postDistrict", "postID",
"postLocation", "postMonth", "postOtherAds",
"postPhone", "postText", "postTime", "postTitle", "postYear",
stringsAsFactors = FALSE)
df <- read.xls(path + fileNames[0])
fileNames[0]
fileNames
fileNames[1]
fileNames[2]
typeof(fileNames)
path = "/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/"
setwd(path)
fileNames = unlist(list.files(pattern = "second_total_file_working*.xlsx"))
print(fileNames)
# declare empty dataframe
df <- data.frame("postCategory", "postDay", "postDistrict", "postID",
"postLocation", "postMonth", "postOtherAds",
"postPhone", "postText", "postTime", "postTitle", "postYear",
stringsAsFactors = FALSE)
fileNames[0]
df <- read.xls(path + fileNames[0])
fileNames
df <- read.xls(path + fileNames[2])
path + fileNames[2]
path
fileNames[2]
toString(fileNames[2])
toString(path) + toString(fileNames[2])
df <- read.xls(c(toString(path), toString(fileNames[2])))
df = read.xls ("/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/second_total_file_working.xlsx"), sheet = 1, header = TRUE)
df = read.xls("/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/second_total_file_working.xlsx"),
sheet = 1,
header = TRUE)
df = read.xls("/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/second_total_file_working.xlsx"),sheet = 1,header = TRUE)
df = read.xls("/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/second_total_file_working.xlsx"),sheet = 1,header = TRUE)
df = read.xls("/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/second_total_file_working.xlsx"),sheet = 1,header = TRUE)
df = read.xls("/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/second_total_file_working.xlsx",sheet = 1,header = TRUE)
View(df)
path = "/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/"
setwd(path)
fileNames = unlist(list.files(pattern = "second_total_file_working*.xlsx"))
print(fileNames)
path = "/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/"
setwd(path)
fileNames = unlist(list.files(pattern = "second_total_file_working*.xlsx"))
print(fileNames)
len(fileNames)
sizeof(fileNames)
size(fileNames)
class(fileNames)
typeof(fileNames)
shape(fileNames)
df <- data.frame("postCategory", "postDay", "postDistrict", "postID",
"postLocation", "postMonth", "postOtherAds",
"postPhone", "postText", "postTime", "postTitle", "postYear",
stringsAsFactors = FALSE)
View(df)
columnNames = c("postCategory", "postDay", "postDistrict", "postID",
"postLocation", "postMonth", "postOtherAds",
"postPhone", "postText", "postTime", "postTitle", "postYear")
len(columnNames)
length(columnNames)
columnNames = c("postCategory", "postDay", "postDistrict", "postID",
"postLocation", "postMonth", "postOtherAds",
"postPhone", "postText", "postTime", "postTitle", "postYear")
df <- data.frame(matrix(ncol = length(columnNames), nrow = 0), stringsAsFactors = FALSE)
fileNames
for (fileName in fileNames) {
filePath = "/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/" + fileName
fileDF = read.xls(filePath,sheet = 1,header = TRUE)
df = rbind(df, fileDF)
}
for (fileName in fileNames) {
filePath = c("/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/", fileName)
fileDF = read.xls(filePath,sheet = 1,header = TRUE)
df = rbind(df, fileDF)
}
unlist(fileName)
unlist(fileNames)
isFactor(fileNames)
is.factor(fileNames)
for (fileName in fileNames) {
print(fileName)
filePath = c("/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/", fileName)
fileDF = read.xls(filePath,sheet = 1,header = TRUE)
df = rbind(df, fileDF)
}
for (fileName in fileNames) {
fileName = toString(fileName)
filePath = c("/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/", fileName)
fileDF = read.xls(filePath,sheet = 1,header = TRUE)
df = rbind(df, fileDF)
}
fileName
filePath
filePath = "/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/" + fileName
filePath = paste("/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/", fileName)
filePath
filePath = paste("/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/", fileName, sep = "")
filePath
for (fileName in fileNames) {
fileName = toString(fileName)
filePath = paste("/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/", fileName, sep = "")
fileDF = read.xls(filePath,sheet = 1,header = TRUE)
df = rbind(df, fileDF)
}
data("AssociatedPress", package="topicmodels")
full_data <- AssociatedPress
View(full_data)
full_data
# lda_tuning.R
# Computes optimal LDA hyperparamater (number of topics)
# by optimizing 3 metrics.
# Authors: Swetha Revanur and Keanu Spies
# install.packages("topicmodels")
# install.packages("doParallel")
# install.packages("ggplot2")
# install.packages("scales")
# install.packages("tidyverse")
# install.packages("RColorBrewer")
# install.packages("wordcloud")
# install.packages("ldatuning")
library(topicmodels)
library(doParallel)
library(ggplot2)
library(scales)
library(tidyverse)
library(RColorBrewer)
library(wordcloud)
library(ldatuning)
library(gdata)
# data("AssociatedPress", package="topicmodels")
# full_data <- AssociatedPress
# read in files
path = "/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/"
setwd(path)
fileNames = unlist(list.files(pattern = "second_total_file_working*.xlsx"))
print(fileNames)
# declare empty dataframe
columnNames = c("postCategory", "postDay", "postDistrict", "postID",
"postLocation", "postMonth", "postOtherAds",
"postPhone", "postText", "postTime", "postTitle", "postYear")
df <- data.frame(matrix(ncol = length(columnNames), nrow = 0), stringsAsFactors = FALSE)
# populate df
for (fileName in fileNames) {
fileName = toString(fileName)
filePath = paste(path, fileName, sep = "")
fileDF = read.xls(filePath,sheet = 1,header = TRUE)
df = rbind(df, fileDF)
}
full_data = DocumentTermMatrix(df)
system.time({
tunes <- FindTopicsNumber(
full_data,
topics = c(1:10 * 10, 120, 140, 160, 180, 0:3 * 50 + 200),
metrics = c("Griffiths2004", "CaoJuan2009", "Arun2010"),
method = "Gibbs",
control = list(seed = 77),
mc.cores = 4L,
verbose = TRUE
)
})
install.packages("tm")
# lda_tuning.R
# Computes optimal LDA hyperparamater (number of topics)
# by optimizing 3 metrics.
# Authors: Swetha Revanur and Keanu Spies
# install.packages("topicmodels")
# install.packages("doParallel")
# install.packages("ggplot2")
# install.packages("scales")
# install.packages("tidyverse")
# install.packages("RColorBrewer")
# install.packages("wordcloud")
# install.packages("ldatuning")
# install.packages("gdata")
# install.packages("tm")
library(topicmodels)
library(doParallel)
library(ggplot2)
library(scales)
library(tidyverse)
library(RColorBrewer)
library(wordcloud)
library(ldatuning)
library(gdata)
library(tm)
# data("AssociatedPress", package="topicmodels")
# full_data <- AssociatedPress
# read in files
path = "/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/"
setwd(path)
fileNames = unlist(list.files(pattern = "second_total_file_working*.xlsx"))
print(fileNames)
# declare empty dataframe
columnNames = c("postCategory", "postDay", "postDistrict", "postID",
"postLocation", "postMonth", "postOtherAds",
"postPhone", "postText", "postTime", "postTitle", "postYear")
df <- data.frame(matrix(ncol = length(columnNames), nrow = 0), stringsAsFactors = FALSE)
# populate df
for (fileName in fileNames) {
fileName = toString(fileName)
filePath = paste(path, fileName, sep = "")
fileDF = read.xls(filePath,sheet = 1,header = TRUE)
df = rbind(df, fileDF)
}
full_data = DocumentTermMatrix(df)
system.time({
tunes <- FindTopicsNumber(
full_data,
topics = c(1:10 * 10, 120, 140, 160, 180, 0:3 * 50 + 200),
metrics = c("Griffiths2004", "CaoJuan2009", "Arun2010"),
method = "Gibbs",
control = list(seed = 77),
mc.cores = 4L,
verbose = TRUE
)
})
FindTopicsNumber_plot(tunes)
# lda_tuning.R
# Computes optimal LDA hyperparamater (number of topics)
# by optimizing 3 metrics.
# Authors: Swetha Revanur and Keanu Spies
# install.packages("topicmodels")
# install.packages("doParallel")
# install.packages("ggplot2")
# install.packages("scales")
# install.packages("tidyverse")
# install.packages("RColorBrewer")
# install.packages("wordcloud")
# install.packages("ldatuning")
# install.packages("gdata")
# install.packages("tm")
library(topicmodels)
library(doParallel)
library(ggplot2)
library(scales)
library(tidyverse)
library(RColorBrewer)
library(wordcloud)
library(ldatuning)
library(gdata)
library(tm)
# data("AssociatedPress", package="topicmodels")
# full_data <- AssociatedPress
# read in files
path = "/Users/swetharevanur/Documents/2_Sophomore/1_Fall/CS 221/cs221-final-project/data/"
setwd(path)
fileNames = unlist(list.files(pattern = "second_total_file_working*.xlsx"))
print(fileNames)
# declare empty dataframe
columnNames = c("postCategory", "postDay", "postDistrict", "postID",
"postLocation", "postMonth", "postOtherAds",
"postPhone", "postText", "postTime", "postTitle", "postYear")
df <- data.frame(matrix(ncol = length(columnNames), nrow = 0), stringsAsFactors = FALSE)
# populate df
for (fileName in fileNames) {
fileName = toString(fileName)
filePath = paste(path, fileName, sep = "")
fileDF = read.xls(filePath,sheet = 1,header = TRUE)
df = rbind(df, fileDF)
}
full_data = tm.DocumentTermMatrix(df)
system.time({
tunes <- FindTopicsNumber(
full_data,
topics = c(1:10 * 10, 120, 140, 160, 180, 0:3 * 50 + 200),
metrics = c("Griffiths2004", "CaoJuan2009", "Arun2010"),
method = "Gibbs",
control = list(seed = 77),
mc.cores = 4L,
verbose = TRUE
)
})
FindTopicsNumber_plot(tunes)
full_data = DocumentTermMatrix(df)
View(df)
within(df, mergedPost <- paste('postTitle', 'postText',sep=' '))
within(df, mergedPost <- paste(df['postTitle'], df['postText'],sep=' '))
df['postTitle']
df['postText']
df$mergedPost <- apply(data[, colsToPaste], 1, paste, collapse = " ")
colsToPaste = c('postTitle', 'postText')
# create a new column `x` with the three columns collapsed together
df$mergedPost <- apply(data[, colsToPaste], 1, paste, collapse = " ")
df.colnames()
df.colnames
colnames(df)
colsToPaste = c('postText', 'postTitle')
# create a new column `x` with the three columns collapsed together
df$mergedPost <- apply(data[, colsToPaste], 1, paste, collapse = " ")
colsToPaste = c('postText', 'postTitle')
# create a new column `x` with the three columns collapsed together
df$mergedPost <- apply(df[, colsToPaste], 1, paste, collapse = " ")
View(df)
df['mergedPost']
c(df['mergedPost'])
VectorSource(c(df['mergedPost']))
library(tm)
R.Version()
install.packages("installr")
list_dir <- '/Users/swetharevanur/Documents/2_Sophomore'
installed <- dir(.libPaths())
save(installed, file = file.path(list_dir, paste0(Sys.Date(), '-installed.Rdata')))
head(installed)
length(installed)
